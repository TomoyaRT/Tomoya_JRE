// import styles from '@/styles/modules/FirstLoading.module.css'

import { range } from '@/plugins/Lodash'
import { motion } from '@/plugins/FramerMotion'
import { useAppSelector } from '@/hooks/useStore'
import { useAppDispatch } from '@/hooks/useStore'
import { setLoading } from '@/store/slices/loadingSlice'

const staggerConfig = {
  open: {},
  close: {
    transition: {
      delayChildren: 1,
      staggerChildren: 0.085,
      ease: 'circOut',
    },
  },
}
const fadeInConfig = {
  open: {
    y: '0%',
  },
  close: {
    y: '100%',
    transition: {
      duration: 0.5,
    },
  },
}

const AppLoading = () => {
  const dispatch = useAppDispatch()
  const loadingReducer = useAppSelector((state) => state.loadingReducer)
  const isLoading = loadingReducer.isLoading

  const lineNumber = 7
  const lineBgColor = '#000000'
  const lineWidth = '100vw'
  const lineHeight = '100vh'

  function onAnimationCompleteHandler() {
    dispatch(setLoading({ loading: false, type: 'App' }))
  }

  return (
    <div className={`${isLoading ? 'block' : 'hidden'}`}>
      <motion.div
        variants={staggerConfig}
        initial="open"
        animate="close"
        className="fixed top-0 left-0 w-[100vw] h-[100vh] flex z-40"
        onAnimationComplete={onAnimationCompleteHandler}
      >
        {range(lineNumber).map((i) => {
          return (
            <motion.div
              key={i}
              style={{
                width: lineWidth,
                height: lineHeight,
                backgroundColor: lineBgColor,
              }}
              variants={fadeInConfig}
            ></motion.div>
          )
        })}
      </motion.div>
      {/* <div className={styles.container}>
        <svg
          className={styles.svg_path}
          width="50%"
          height="50%"
          viewBox="0 0 677 98"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M62.42 5.35V25.63H25.76V41.75H52.8V61.12H25.76V97H0.279999V5.35H62.42Z" />
          <path d="M98.6311 36.94C101.491 32.78 104.958 29.4867 109.031 27.06C113.104 24.6333 117.481 23.42 122.161 23.42V50.59H115.011C109.464 50.59 105.348 51.6733 102.661 53.84C99.9744 56.0067 98.6311 59.7767 98.6311 65.15V97H73.1511V24.07H98.6311V36.94Z" />
          <path d="M165.226 97.91C157.946 97.91 151.402 96.3933 145.596 93.36C139.876 90.3267 135.369 85.9933 132.076 80.36C128.782 74.7267 127.136 68.0967 127.136 60.47C127.136 52.93 128.782 46.3433 132.076 40.71C135.456 35.0767 140.006 30.7433 145.726 27.71C151.532 24.6767 158.076 23.16 165.356 23.16C172.636 23.16 179.136 24.6767 184.856 27.71C190.662 30.7433 195.212 35.0767 198.506 40.71C201.886 46.3433 203.576 52.93 203.576 60.47C203.576 68.01 201.886 74.64 198.506 80.36C195.212 85.9933 190.662 90.3267 184.856 93.36C179.049 96.3933 172.506 97.91 165.226 97.91ZM165.226 75.81C168.779 75.81 171.726 74.51 174.066 71.91C176.492 69.2233 177.706 65.41 177.706 60.47C177.706 55.53 176.492 51.76 174.066 49.16C171.726 46.56 168.822 45.26 165.356 45.26C161.889 45.26 158.986 46.56 156.646 49.16C154.306 51.76 153.136 55.53 153.136 60.47C153.136 65.4967 154.262 69.31 156.516 71.91C158.769 74.51 161.672 75.81 165.226 75.81Z" />
          <path d="M261.652 23.42C270.059 23.42 276.732 26.2367 281.672 31.87C286.612 37.4167 289.082 44.9567 289.082 54.49V97H263.602V57.87C263.602 53.71 262.519 50.46 260.352 48.12C258.185 45.6933 255.282 44.48 251.642 44.48C247.829 44.48 244.839 45.6933 242.672 48.12C240.505 50.46 239.422 53.71 239.422 57.87V97H213.942V24.07H239.422V34.47C241.675 31.1767 244.709 28.5333 248.522 26.54C252.335 24.46 256.712 23.42 261.652 23.42Z" />
          <path d="M346.093 75.29V97H335.043C316.41 97 307.093 87.77 307.093 69.31V45.26H298.123V24.07H307.093V6.39H332.703V24.07H345.963V45.26H332.703V69.7C332.703 71.6933 333.137 73.1233 334.003 73.99C334.957 74.8567 336.517 75.29 338.683 75.29H346.093Z" />
          <path d="M414.07 41.36V62.55H355.18V41.36H414.07Z" />
          <path d="M502.616 59.69C502.616 61.6833 502.486 63.6767 502.226 65.67H453.996C454.256 69.6567 455.34 72.6467 457.246 74.64C459.24 76.5467 461.753 77.5 464.786 77.5C469.033 77.5 472.066 75.5933 473.886 71.78H501.056C499.93 76.8067 497.72 81.3133 494.426 85.3C491.22 89.2 487.146 92.2767 482.206 94.53C477.266 96.7833 471.806 97.91 465.826 97.91C458.633 97.91 452.22 96.3933 446.586 93.36C441.04 90.3267 436.663 85.9933 433.456 80.36C430.336 74.7267 428.776 68.0967 428.776 60.47C428.776 52.8433 430.336 46.2567 433.456 40.71C436.576 35.0767 440.91 30.7433 446.456 27.71C452.09 24.6767 458.546 23.16 465.826 23.16C473.02 23.16 479.39 24.6333 484.936 27.58C490.483 30.5267 494.816 34.7733 497.936 40.32C501.056 45.78 502.616 52.2367 502.616 59.69ZM476.616 53.32C476.616 50.2 475.576 47.7733 473.496 46.04C471.416 44.22 468.816 43.31 465.696 43.31C462.576 43.31 460.02 44.1767 458.026 45.91C456.033 47.5567 454.733 50.0267 454.126 53.32H476.616Z" />
          <path d="M560.754 23.42C569.16 23.42 575.834 26.2367 580.774 31.87C585.714 37.4167 588.184 44.9567 588.184 54.49V97H562.704V57.87C562.704 53.71 561.62 50.46 559.454 48.12C557.287 45.6933 554.384 44.48 550.744 44.48C546.93 44.48 543.94 45.6933 541.774 48.12C539.607 50.46 538.524 53.71 538.524 57.87V97H513.044V24.07H538.524V34.47C540.777 31.1767 543.81 28.5333 547.624 26.54C551.437 24.46 555.814 23.42 560.754 23.42Z" />
          <path d="M598.005 60.47C598.005 52.93 599.348 46.3433 602.035 40.71C604.808 35.0767 608.578 30.7433 613.345 27.71C618.111 24.6767 623.398 23.16 629.205 23.16C633.885 23.16 638.045 24.1567 641.685 26.15C645.411 28.0567 648.315 30.7 650.395 34.08V0.800003H676.005V97H650.395V86.86C648.401 90.24 645.585 92.9267 641.945 94.92C638.305 96.9133 634.015 97.91 629.075 97.91C623.268 97.91 617.981 96.3933 613.215 93.36C608.535 90.3267 604.808 85.9933 602.035 80.36C599.348 74.64 598.005 68.01 598.005 60.47ZM650.525 60.47C650.525 55.79 649.225 52.1067 646.625 49.42C644.111 46.7333 640.991 45.39 637.265 45.39C633.451 45.39 630.288 46.7333 627.775 49.42C625.261 52.02 624.005 55.7033 624.005 60.47C624.005 65.15 625.261 68.8767 627.775 71.65C630.288 74.3367 633.451 75.68 637.265 75.68C640.991 75.68 644.111 74.3367 646.625 71.65C649.225 68.9633 650.525 65.2367 650.525 60.47Z" />
        </svg>
      </div> */}
    </div>
  )
}

export default AppLoading
